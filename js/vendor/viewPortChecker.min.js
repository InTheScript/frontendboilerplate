!function(t){t.fn.viewportChecker=function(e){var a={classToAdd:"visible",offset:100,repeat:!1,callbackFunction:function(){},scrollHorizontal:!1};t.extend(a,e);var o=this,s=a.scrollHorizontal?t(window).width():t(window).height(),l=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";return this.checkElements=function(){if(a.scrollHorizontal)var e=t(l).scrollLeft(),r=e+s;else var e=t(l).scrollTop(),r=e+s;o.each(function(){var o=t(this),s={},l={};if(o.data("add")&&(l.classToAdd=o.data("add")),o.data("offset")&&(l.offset=o.data("offset")),o.data("repeat")&&(l.repeat=o.data("repeat")),o.data("scrollHorizontal")&&(l.scrollHorizontal=o.data("scrollHorizontal")),t.extend(s,a),t.extend(s,l),!o.hasClass(s.classToAdd)||s.repeat){var n=s.scrollHorizontal?Math.round(o.offset().left)+s.offset:Math.round(o.offset().top)+s.offset,i=n+o.height();r>n&&i>e?(o.addClass(s.classToAdd),s.callbackFunction(o,"add")):o.hasClass(s.classToAdd)&&s.repeat&&(o.removeClass(s.classToAdd),s.callbackFunction(o,"remove"))}})},t(window).bind("load scroll touchmove",this.checkElements),t(window).resize(function(t){s=a.scrollHorizontal?t.currentTarget.innerWidth:t.currentTarget.innerHeight}),this.checkElements(),this}}(jQuery);